{
  "_format": "hh-sol-artifact-1",
  "contractName": "GatewayContract",
  "sourceName": "contracts/ethereum/GatewayContract.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "contract IStarknetCore",
          "name": "_starknetCore",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_recoveryContractFactory",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "EOA",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "recoveryContract",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "activationTime",
          "type": "uint256"
        }
      ],
      "name": "ActivateRecoveryContract",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "EOA",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "recoveryContract",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "terminationDate",
          "type": "uint256"
        }
      ],
      "name": "TerminateRecoveryContract",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "userAddress",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "blocks",
          "type": "uint256"
        }
      ],
      "name": "activateRecoveryContract",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "userAddress",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "blocks",
          "type": "uint256"
        },
        {
          "internalType": "bytes",
          "name": "proof",
          "type": "bytes"
        },
        {
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        }
      ],
      "name": "activateRecoveryContractPassword",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "eoaToContractType",
      "outputs": [
        {
          "internalType": "enum GatewayContract.RecoveryContractType",
          "name": "",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "eoaToRecoveryContract",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "eoa",
          "type": "address"
        }
      ],
      "name": "getRecoveryContract",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "eoa",
          "type": "address"
        }
      ],
      "name": "getRecoveryContractType",
      "outputs": [
        {
          "internalType": "enum GatewayContract.RecoveryContractType",
          "name": "",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getTrustedAgent",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "l2StorageProverAddress",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "proverAddressIsSet",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "recoveryContractFactory",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_l2StorageProverAddress",
          "type": "uint256"
        }
      ],
      "name": "setProverAddress",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "terminateRecoveryContract",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "trustedAgent",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "trustedAgentIsSet",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "eoa",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "recoveryContractAddress",
          "type": "address"
        },
        {
          "internalType": "enum GatewayContract.RecoveryContractType",
          "name": "contractType",
          "type": "uint8"
        }
      ],
      "name": "updateRecoveryContract",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_trustedAgent",
          "type": "address"
        }
      ],
      "name": "updateTrustedAgent",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x60806040526005805461ffff1916905534801561001b57600080fd5b50604051610c68380380610c6883398101604081905261003a9161008d565b600080546001600160a01b039384166001600160a01b03199182161790915560018054821633179055600380549290931691161790556100c7565b6001600160a01b038116811461008a57600080fd5b50565b600080604083850312156100a057600080fd5b82516100ab81610075565b60208401519092506100bc81610075565b809150509250929050565b610b92806100d66000396000f3fe608060405234801561001057600080fd5b506004361061010b5760003560e01c80639bc0f1fe116100a2578063e524979c11610071578063e524979c14610272578063eb8aef591461027a578063eea7788214610287578063f502ee6d1461029a578063fb915302146102ab57600080fd5b80639bc0f1fe146101e45780639d232d5b14610206578063b078488e14610219578063c4c251f31461024957600080fd5b806361463d36116100de57806361463d361461017f5780638c98c516146101925780638da5cb5b146101a55780639916ca8a146101b857600080fd5b806303b5fdf714610110578063084a51d8146101405780631b68f3281461015357806329c877f314610168575b600080fd5b600354610123906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b600254610123906001600160a01b031681565b6101666101613660046108ce565b6102d7565b005b61017160045481565b604051908152602001610137565b61016661018d366004610908565b610428565b6101666101a036600461092c565b6104a1565b600154610123906001600160a01b031681565b6101236101c6366004610908565b6001600160a01b039081166000908152600660205260409020541690565b6005546101f690610100900460ff1681565b6040519015158152602001610137565b610166610214366004610945565b6104fa565b61023c610227366004610908565b60076020526000908152604090205460ff1681565b60405161013791906109aa565b610123610257366004610908565b6006602052600090815260409020546001600160a01b031681565b6101666105bc565b6005546101f69060ff1681565b6101666102953660046109d2565b61068f565b6002546001600160a01b0316610123565b61023c6102b9366004610908565b6001600160a01b031660009081526007602052604090205460ff1690565b60055460ff1615156001146103335760405162461bcd60e51b815260206004820152601f60248201527f50726f76657220636f6e74726163742061646472657373206e6f74207365740060448201526064015b60405180910390fd5b600061033f83836107e2565b90506000806000836001600160a01b0316636af39aa3866040518263ffffffff1660e01b815260040161037491815260200190565b606060405180830381600087803b15801561038e57600080fd5b505af11580156103a2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103c69190610a6d565b604080516001600160a01b0385811682528481166020830152831681830152426060820152905193965091945092507f7cf5739637eb749ddca9f234c6007e1e9f9b060a35d845ba515321b16e887404919081900360800190a1505050505050565b6001546001600160a01b0316331461046f5760405162461bcd60e51b815260206004820152600a60248201526927b7363c9037bbb732b960b11b604482015260640161032a565b600280546001600160a01b039092166001600160a01b03199092169190911790556005805461ff001916610100179055565b6001546001600160a01b031633146104e85760405162461bcd60e51b815260206004820152600a60248201526927b7363c9037bbb732b960b11b604482015260640161032a565b6004556005805460ff19166001179055565b6003546001600160a01b0316331461055e5760405162461bcd60e51b815260206004820152602160248201527f4f6e6c792063616c6c61626c6520627920636f6e747261637420666163746f726044820152607960f81b606482015260840161032a565b6001600160a01b03838116600090815260066020908152604080832080546001600160a01b031916948716949094179093556007905220805482919060ff191660018360028111156105b2576105b2610994565b0217905550505050565b336000908152600660205260409020546001600160a01b0316806106195760405162461bcd60e51b81526020600482015260146024820152734e6f206578697374696e67207265636f7665727960601b604482015260640161032a565b33600081815260066020908152604080832080546001600160a01b03191690556007825291829020805460ff1916905581519283526001600160a01b038416908301524282820152517f2d712e362287dcff413ca2eff844e039531b6bcbcca75c84b549478114d1b8f09181900360600190a150565b60055460ff1615156001146106e65760405162461bcd60e51b815260206004820152601f60248201527f50726f76657220636f6e74726163742061646472657373206e6f742073657400604482015260640161032a565b60006106f286866107e2565b90506000806000836001600160a01b031663477ff009898989896040518563ffffffff1660e01b815260040161072b9493929190610aaf565b606060405180830381600087803b15801561074557600080fd5b505af1158015610759573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061077d9190610a6d565b604080516001600160a01b0385811682528481166020830152831681830152426060820152905193965091945092507f7cf5739637eb749ddca9f234c6007e1e9f9b060a35d845ba515321b16e887404919081900360800190a1505050505050505050565b60408051600280825260608201835260009283929190602083019080368337019050509050838160008151811061081b5761081b610af8565b602002602001018181525050828160018151811061083b5761083b610af8565b60209081029190910101526000546004805460405162b2775760e61b81526001600160a01b0390931692632c9dd5c0926108789291869101610b0e565b600060405180830381600087803b15801561089257600080fd5b505af11580156108a6573d6000803e3d6000fd5b5050506001600160a01b03808616600090815260066020526040902054169250505092915050565b600080604083850312156108e157600080fd5b50508035926020909101359150565b6001600160a01b038116811461090557600080fd5b50565b60006020828403121561091a57600080fd5b8135610925816108f0565b9392505050565b60006020828403121561093e57600080fd5b5035919050565b60008060006060848603121561095a57600080fd5b8335610965816108f0565b92506020840135610975816108f0565b915060408401356003811061098957600080fd5b809150509250925092565b634e487b7160e01b600052602160045260246000fd5b60208101600383106109cc57634e487b7160e01b600052602160045260246000fd5b91905290565b6000806000806000608086880312156109ea57600080fd5b8535945060208601359350604086013567ffffffffffffffff80821115610a1057600080fd5b818801915088601f830112610a2457600080fd5b813581811115610a3357600080fd5b896020828501011115610a4557600080fd5b6020830195508094505050506060860135610a5f816108f0565b809150509295509295909350565b600080600060608486031215610a8257600080fd5b8351610a8d816108f0565b6020850151909350610a9e816108f0565b6040850151909250610989816108f0565b848152606060208201528260608201528284608083013760008184016080908101919091526001600160a01b03929092166040820152601f909201601f19169091010192915050565b634e487b7160e01b600052603260045260246000fd5b6000604082018483526020604081850152818551808452606086019150828701935060005b81811015610b4f57845183529383019391830191600101610b33565b509097965050505050505056fea26469706673582212204de0b5afb254548ec624a56373fe00ac00dc1f9a01eebeae5bafa3e349cb132664736f6c63430008090033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b506004361061010b5760003560e01c80639bc0f1fe116100a2578063e524979c11610071578063e524979c14610272578063eb8aef591461027a578063eea7788214610287578063f502ee6d1461029a578063fb915302146102ab57600080fd5b80639bc0f1fe146101e45780639d232d5b14610206578063b078488e14610219578063c4c251f31461024957600080fd5b806361463d36116100de57806361463d361461017f5780638c98c516146101925780638da5cb5b146101a55780639916ca8a146101b857600080fd5b806303b5fdf714610110578063084a51d8146101405780631b68f3281461015357806329c877f314610168575b600080fd5b600354610123906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b600254610123906001600160a01b031681565b6101666101613660046108ce565b6102d7565b005b61017160045481565b604051908152602001610137565b61016661018d366004610908565b610428565b6101666101a036600461092c565b6104a1565b600154610123906001600160a01b031681565b6101236101c6366004610908565b6001600160a01b039081166000908152600660205260409020541690565b6005546101f690610100900460ff1681565b6040519015158152602001610137565b610166610214366004610945565b6104fa565b61023c610227366004610908565b60076020526000908152604090205460ff1681565b60405161013791906109aa565b610123610257366004610908565b6006602052600090815260409020546001600160a01b031681565b6101666105bc565b6005546101f69060ff1681565b6101666102953660046109d2565b61068f565b6002546001600160a01b0316610123565b61023c6102b9366004610908565b6001600160a01b031660009081526007602052604090205460ff1690565b60055460ff1615156001146103335760405162461bcd60e51b815260206004820152601f60248201527f50726f76657220636f6e74726163742061646472657373206e6f74207365740060448201526064015b60405180910390fd5b600061033f83836107e2565b90506000806000836001600160a01b0316636af39aa3866040518263ffffffff1660e01b815260040161037491815260200190565b606060405180830381600087803b15801561038e57600080fd5b505af11580156103a2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103c69190610a6d565b604080516001600160a01b0385811682528481166020830152831681830152426060820152905193965091945092507f7cf5739637eb749ddca9f234c6007e1e9f9b060a35d845ba515321b16e887404919081900360800190a1505050505050565b6001546001600160a01b0316331461046f5760405162461bcd60e51b815260206004820152600a60248201526927b7363c9037bbb732b960b11b604482015260640161032a565b600280546001600160a01b039092166001600160a01b03199092169190911790556005805461ff001916610100179055565b6001546001600160a01b031633146104e85760405162461bcd60e51b815260206004820152600a60248201526927b7363c9037bbb732b960b11b604482015260640161032a565b6004556005805460ff19166001179055565b6003546001600160a01b0316331461055e5760405162461bcd60e51b815260206004820152602160248201527f4f6e6c792063616c6c61626c6520627920636f6e747261637420666163746f726044820152607960f81b606482015260840161032a565b6001600160a01b03838116600090815260066020908152604080832080546001600160a01b031916948716949094179093556007905220805482919060ff191660018360028111156105b2576105b2610994565b0217905550505050565b336000908152600660205260409020546001600160a01b0316806106195760405162461bcd60e51b81526020600482015260146024820152734e6f206578697374696e67207265636f7665727960601b604482015260640161032a565b33600081815260066020908152604080832080546001600160a01b03191690556007825291829020805460ff1916905581519283526001600160a01b038416908301524282820152517f2d712e362287dcff413ca2eff844e039531b6bcbcca75c84b549478114d1b8f09181900360600190a150565b60055460ff1615156001146106e65760405162461bcd60e51b815260206004820152601f60248201527f50726f76657220636f6e74726163742061646472657373206e6f742073657400604482015260640161032a565b60006106f286866107e2565b90506000806000836001600160a01b031663477ff009898989896040518563ffffffff1660e01b815260040161072b9493929190610aaf565b606060405180830381600087803b15801561074557600080fd5b505af1158015610759573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061077d9190610a6d565b604080516001600160a01b0385811682528481166020830152831681830152426060820152905193965091945092507f7cf5739637eb749ddca9f234c6007e1e9f9b060a35d845ba515321b16e887404919081900360800190a1505050505050505050565b60408051600280825260608201835260009283929190602083019080368337019050509050838160008151811061081b5761081b610af8565b602002602001018181525050828160018151811061083b5761083b610af8565b60209081029190910101526000546004805460405162b2775760e61b81526001600160a01b0390931692632c9dd5c0926108789291869101610b0e565b600060405180830381600087803b15801561089257600080fd5b505af11580156108a6573d6000803e3d6000fd5b5050506001600160a01b03808616600090815260066020526040902054169250505092915050565b600080604083850312156108e157600080fd5b50508035926020909101359150565b6001600160a01b038116811461090557600080fd5b50565b60006020828403121561091a57600080fd5b8135610925816108f0565b9392505050565b60006020828403121561093e57600080fd5b5035919050565b60008060006060848603121561095a57600080fd5b8335610965816108f0565b92506020840135610975816108f0565b915060408401356003811061098957600080fd5b809150509250925092565b634e487b7160e01b600052602160045260246000fd5b60208101600383106109cc57634e487b7160e01b600052602160045260246000fd5b91905290565b6000806000806000608086880312156109ea57600080fd5b8535945060208601359350604086013567ffffffffffffffff80821115610a1057600080fd5b818801915088601f830112610a2457600080fd5b813581811115610a3357600080fd5b896020828501011115610a4557600080fd5b6020830195508094505050506060860135610a5f816108f0565b809150509295509295909350565b600080600060608486031215610a8257600080fd5b8351610a8d816108f0565b6020850151909350610a9e816108f0565b6040850151909250610989816108f0565b848152606060208201528260608201528284608083013760008184016080908101919091526001600160a01b03929092166040820152601f909201601f19169091010192915050565b634e487b7160e01b600052603260045260246000fd5b6000604082018483526020604081850152818551808452606086019150828701935060005b81811015610b4f57845183529383019391830191600101610b33565b509097965050505050505056fea26469706673582212204de0b5afb254548ec624a56373fe00ac00dc1f9a01eebeae5bafa3e349cb132664736f6c63430008090033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
